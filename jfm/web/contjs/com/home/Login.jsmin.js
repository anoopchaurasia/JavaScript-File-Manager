fm.isConcatinated=!0,fm.version=1352908462176,fm.Package("jfm.html"),fm.Class("FormManager"),jfm.html.FormManager=function(e){function t(e){for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}function n(e){return e=="false"?!1:e=="true"?!0:e}function r(){var e=arguments,r=null,i,s;s=(""+e[1]).split("."),r=e[0];for(i=0;i<s.length-1;i+=1)!isNaN(s[i+1])&&!t(r[s[i]])?r[s[i]]=r[s[i]]||[]:r[s[i]]=r[s[i]]||{},r=r[s[i]];r[s[i]]=n(e[2])}function i(){return this.name&&!this.disabled}function s(e,t){var n=this.className.indexOf("mandatory")!=-1;return this.jfm&&typeof this.jfm.verify=="function"&&this.jfm.verify(e),n?e!==""&&e!==t?!0:!1:!0}function o(){return}function u(e,t){if(!i.call(e))return;var n=e.value,o=e.getAttribute("hintText");if(!s.call(e,n,o))throw"Mandatory fields can not be empty";n==o&&(n=""),r(this,e.name,n),t.call(e,n,e.type,e.name)}function a(e){switch(this.type){case"checkbox":this.checked=e;break;case undefined:if(typeof this=="object")for(var t=0;t<this.length;t++)this[t].value==e+""?this[t].checked=!0:this[t].checked=!1;break;default:this.value=e}}function f(e,t){switch(typeof e){case"object":for(var n in e)f.call(this,e[n],t+"."+n);break;case"function":break;default:this[t]&&a.call(this[t],e)}}function l(e,t,n,r){if(n<=0)return undefined;var i=e[t],s=[],o,u,a,f;u=typeof i;switch(u){case"object":if(i==null)return"";break;case"string":return"<span style='margin-left:30px;'>"+t+"</span>- <input type='text' name='"+r+"' value='"+i+"'/>";case"number":return"<span style='margin-left:30px;'>"+t+"</span>:- <input type='text' name='"+r+"' value='"+i+"'/>";case"boolean":return"<span style='margin-left:30px;'>"+t+"</span>:- <span>true</span>: <input type='radio' name='"+r+"' value='true'/> <span>false</span>: <input type='radio' name='"+r+"' value='false'/>";default:return""}o=i.length!==undefined&&i instanceof Array?!0:!1;var c;if(o)for(var h=i.length-1;h>=0;--h)c=l(i,h,n-1,r+"."+h),c&&s.push(c);else{s.push("<div class='collapse' style='width:600px;margin-left:30px;'>"+(t===""?r:t)+":</br>");for(a in i)i.hasOwnProperty(a)&&(f=l(i,a,n-1,r+"."+a),f&&(s.push(f),s.push("</br>")));s.push("</div>")}return s.join("")}this.setMe=function(t){e=t},this.shortHand="FormManager",this.Static.getData=function(e,t){var n=typeof t=="function"?t:function(){},r={};for(var i=0,s=e.length;i<s;i++)u.call(r,e[i],n);return r},this.Static.setData=function(e,t,n){if(!t)return;for(var r in t)t.hasOwnProperty(r)&&f.call(e,t[r],r)},this.Static.createHtml=function(e){var t={};return t[""]=e,l(t,"",1e3,"config")}},fm.Package("com.home"),fm.Import("jfm.cache.Cache"),fm.Import("jfm.html.FormManager"),fm.Import("jfm.html.form.Text"),fm.Class("Login","jfm.html.Container"),com.home.Login=function(e,t,n,r,i,s){this.setMe=function(e){t=e};var o;Static.main=function(e){o=new t(e[0]),this.onHashChange(e[0])},Static.onHashChange=function(e){e.center.reset(),e.left.reset(),e.bottom.reset(),e.right.reset(),e.center.add(o)},this.Login=function(t){var i=this;e(),i.el.html(n.getInstance().getTemplate("login")),i.el.find("form#signin").submit(function(){var e;try{e=r.getData(this)}catch(t){return!1}return Server.getInstance("Home").serviceCall(e,"signin",function(e){location.hash="chat"}),!1}),setTimeout(function(){jfm.html.form.Text.convertToJfm(i.el.find("input[type='text']"))})}},fm.isConcatinated=!1