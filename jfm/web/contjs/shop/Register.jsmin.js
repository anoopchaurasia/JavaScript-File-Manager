fm.isConcatinated=!0,fm.version=1352908462176,fm.Package("lib.google"),fm.Class("Map","jfm.html.Container"),lib.google.Map=function(e,t,n){function o(e){var t=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);r.setCenter(t),i=u(t),google.maps.event.addDomListener(i,"dragend",function(){for(var e=0;e<s.length;e++)s[e].apply(this,arguments)}),a(t)}function u(e){return new google.maps.Marker({map:r,position:e,draggable:!0,icon:"http://maps.gstatic.com/intl/en_ALL/mapfiles/dd-end.png"})}function a(e){return new google.maps.Circle({map:r,center:e,radius:2e3,strokeColor:"#afafaf",fillOpacity:.2,fillColor:"#fdfdfd",strokeOpacity:.8})}this.setMe=function(e){t=e};var r,i,s;this.addMarkerDragEndListner=function(e){s.push(e)},this.getGmap=function(){return r},this.getMarker=function(){return i},this.Map=function(){s=[],window.initialize=function(){var e={center:new google.maps.LatLng(-34.397,150.644),zoom:12,mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!1,scaleControl:!1,rotateControl:!1,streetViewControl:!1,zoomControl:{position:google.maps.ControlPosition.RIGHT_BOTTOM,style:google.maps.ZoomControlStyle.SMALL}};r=new google.maps.Map(document.getElementById("map_canvas"),e),navigator.geolocation.getCurrentPosition(o),delete window.initialize},e({width:"100%",height:"100%",id:"map_canvas"}),window.google&&google.maps&&setTimeout(initialize,1e3),fm.Include("http://maps.googleapis.com/maps/api/js?sensor=false&callback=initialize")}},fm.Package("shop"),fm.Class("SearchLocation","jfm.html.Container"),shop.SearchLocation=function(e,t,n){function i(e,t){!r&&(r=new google.maps.Geocoder),r.geocode({address:e},function(e,n){if(n==google.maps.GeocoderStatus.OK)return t(e);alert("Geocode was not successful for the following reason: "+n)})}var r;this.setMe=function(e){t=e},this.SearchLocation=function(t,r){function u(e){console.log(e),a.el.empty();for(var t=0;t<e.length;t++)a.add(new n({height:30,index:t,"class":"geo-address",html:e[t].formatted_address,click:function(){r.getMarker().setPosition(e[$(this).attr("index")].geometry.location),r.getGmap().setCenter(e[$(this).attr("index")].geometry.location)}}))}e({width:300,"class":"left",css:{height:"100%","background-color":"#FCF0FE"}}),t.left.reset().add(this),this.add("<div>Get Location List: </div>"),this.add("<div class='search-location'><input placeholder='type location'/></div>");var s=this.el.find("input");s.keyup(function(e){e.keyCode==13&&i(s.val()+" INDIA",u)});var o=new Button({html:"list","class":"add-category green-btn",click:function(){i(s.val()+" INDIA",u)}});r.addMarkerDragEndListner(function(){console.log(arguments)});var a=new n({});this.add(a),o.el.click(function(){return!1}),this.add(1,o)}},fm.Package("shop"),fm.Import("lib.google.Map"),fm.Import("shop.SearchLocation"),fm.Class("Register"),shop.Register=function(e,t,n){this.setMe=function(t){e=t},Static.main=function(t){new e(t[0])},Static.hashChange=function(t){new e(t)},this.Register=function(e){var r=new t(e);e.center.reset().add(r),new n(e,r)}},fm.isConcatinated=!1