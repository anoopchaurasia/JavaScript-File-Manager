var sessions = {};

var sessionManagement = {

	init: function(){
		
		setInterval(function(){
			var currentTime = Date.now();
			var sessionTimeOut = Constants.sessionTimeOut;
			for(var k in session){
				if( currentTime  - session[k].lastAsses > sessionTimeOut  ){
					delete session[k];
				}
			}
		}, Constants.interVal);
	},
	add : function(sessionId, sessionData) {

		sessions[sessionId] = sessionData;
		this.updateTime(sessionId);
	},
	remove : function(sessionId) {
		if (session[sessionId]) {
			return delete session[sessionId];
		}
		return false;
	},

	updateTime : function(sessionId) {
		sessions[sessionId].lastAccess = Date.now();
	},

	getSession : function(sessionId) {
		return sessions[sessionId];
	}
};
module.exports = sessionManagement;
